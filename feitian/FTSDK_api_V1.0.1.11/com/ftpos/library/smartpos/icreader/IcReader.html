<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Tue Oct 29 15:07:35 CST 2024 -->
<title>IcReader</title>
<meta name="date" content="2024-10-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IcReader";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/ftpos/library/smartpos/icreader/OnIcReaderCallback.html" title="interface in com.ftpos.library.smartpos.icreader"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/ftpos/library/smartpos/icreader/IcReader.html" target="_top">Frames</a></li>
<li><a href="IcReader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.ftpos.library.smartpos.icreader</div>
<h2 title="Class IcReader" class="title">Class IcReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.ftpos.library.smartpos.icreader.IcReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">IcReader</span>
extends java.lang.Object</pre>
<div class="block">Copyright (C), 2015-2020,FEITIAN Technologies Co., Ltd. All rights reserved.
 Contact card operation interface.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#cancel--">cancel</a></span>()</code>
<div class="block">cancel wait card</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#checkICReader--">checkICReader</a></span>()</code>
<div class="block">Check if the hardware of the contact card reader is available
 Please note: this function will change the current state of the card, it is recommended not to use it during the transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#close--">close</a></span>()</code>
<div class="block">This method is used to power off the IC card.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#getCardStatus-com.ftpos.library.smartpos.datautils.IntTypeValue-">getCardStatus</a></span>(<a href="../../../../../com/ftpos/library/smartpos/datautils/IntTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">IntTypeValue</a>&nbsp;status)</code>
<div class="block">This method is used to get the current state of the IC card, including whether there is a card in the slot
 and whether it is powered on or off.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html" title="class in com.ftpos.library.smartpos.icreader">IcReader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#getInstance-android.content.Context-">getInstance</a></span>(android.content.Context&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#openCard-int-com.ftpos.library.smartpos.icreader.OnIcReaderCallback-">openCard</a></span>(int&nbsp;waitSeconds,
        <a href="../../../../../com/ftpos/library/smartpos/icreader/OnIcReaderCallback.html" title="interface in com.ftpos.library.smartpos.icreader">OnIcReaderCallback</a>&nbsp;onICReaderCallback)</code>
<div class="block">This method is used to wait for the user to insert the IC card.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#reset-com.ftpos.library.smartpos.datautils.BytesTypeValue-">reset</a></span>(<a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;atrBytesValue)</code>
<div class="block">This method is used to reset the IC card and get the ATR response.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html#sendApduCustomer-byte:A-int-byte:A-int:A-">sendApduCustomer</a></span>(byte[]&nbsp;sendData,
                int&nbsp;dataLen,
                byte[]&nbsp;response,
                int[]&nbsp;responselen)</code>
<div class="block">This method is used to send APDU to the IC card and get the response data.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance-android.content.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../com/ftpos/library/smartpos/icreader/IcReader.html" title="class in com.ftpos.library.smartpos.icreader">IcReader</a>&nbsp;getInstance(android.content.Context&nbsp;context)</pre>
</li>
</ul>
<a name="openCard-int-com.ftpos.library.smartpos.icreader.OnIcReaderCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openCard</h4>
<pre>public&nbsp;void&nbsp;openCard(int&nbsp;waitSeconds,
                     <a href="../../../../../com/ftpos/library/smartpos/icreader/OnIcReaderCallback.html" title="interface in com.ftpos.library.smartpos.icreader">OnIcReaderCallback</a>&nbsp;onICReaderCallback)</pre>
<div class="block">This method is used to wait for the user to insert the IC card.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitSeconds</code> - The maximum waiting time in seconds. If the value is 0, it indicates waiting 30 seconds.</dd>
<dd><code>onICReaderCallback</code> - A callback used to receive the card insertion event.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;int&nbsp;close()</pre>
<div class="block">This method is used to power off the IC card.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="reset-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;int&nbsp;reset(<a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;atrBytesValue)</pre>
<div class="block">This method is used to reset the IC card and get the ATR response.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>atrBytesValue</code> - ATR returned by the card.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="getCardStatus-com.ftpos.library.smartpos.datautils.IntTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCardStatus</h4>
<pre>public&nbsp;int&nbsp;getCardStatus(<a href="../../../../../com/ftpos/library/smartpos/datautils/IntTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">IntTypeValue</a>&nbsp;status)</pre>
<div class="block">This method is used to get the current state of the IC card, including whether there is a card in the slot
 and whether it is powered on or off.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - [output] The state of the card.
               0- No IC card exists;
               1- Contact IC card exists and has been powered on;
               2- Contact IC card exists, but has not been powered on;</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="cancel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>public&nbsp;void&nbsp;cancel()</pre>
<div class="block">cancel wait card</div>
</li>
</ul>
<a name="sendApduCustomer-byte:A-int-byte:A-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendApduCustomer</h4>
<pre>public&nbsp;int&nbsp;sendApduCustomer(byte[]&nbsp;sendData,
                            int&nbsp;dataLen,
                            byte[]&nbsp;response,
                            int[]&nbsp;responselen)</pre>
<div class="block">This method is used to send APDU to the IC card and get the response data.
 This method does not do anything with the data returned by the card.
 For example, if the card returns 61xx or 6Cxx, this method does no further processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sendData</code> - The APDU data.</dd>
<dd><code>dataLen</code> - The length of APDU data.</dd>
<dd><code>response</code> - Response data from the card.</dd>
<dd><code>responselen</code> - The length of response data from the card.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="checkICReader--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkICReader</h4>
<pre>public&nbsp;int&nbsp;checkICReader()</pre>
<div class="block">Check if the hardware of the contact card reader is available
 Please note: this function will change the current state of the card, it is recommended not to use it during the transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: IC card reader available;
 Other values: IC card reader is not available.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/ftpos/library/smartpos/icreader/OnIcReaderCallback.html" title="interface in com.ftpos.library.smartpos.icreader"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/ftpos/library/smartpos/icreader/IcReader.html" target="_top">Frames</a></li>
<li><a href="IcReader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
