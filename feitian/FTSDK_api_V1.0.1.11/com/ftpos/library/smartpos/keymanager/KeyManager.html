<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Tue Oct 29 15:07:34 CST 2024 -->
<title>KeyManager</title>
<meta name="date" content="2024-10-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KeyManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":9,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":42,"i24":42,"i25":10,"i26":10,"i27":10,"i28":10,"i29":42,"i30":42,"i31":10,"i32":10,"i33":42,"i34":10,"i35":42,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/ftpos/library/smartpos/keymanager/HashMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/ftpos/library/smartpos/keymanager/KeyManager.html" target="_top">Frames</a></li>
<li><a href="KeyManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.ftpos.library.smartpos.keymanager</div>
<h2 title="Class KeyManager" class="title">Class KeyManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.ftpos.library.smartpos.keymanager.KeyManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">KeyManager</span>
extends java.lang.Object</pre>
<div class="block">Copyright (C), 2015-2020,FEITIAN Technologies Co., Ltd. All rights reserved.
 Utils of key management and key usage.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#deleteAllKey--">deleteAllKey</a></span>()</code>
<div class="block">This method performs the delete the all key in the internal key store.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#deleteAllKeyGroup--">deleteAllKeyGroup</a></span>()</code>
<div class="block">This method removes all key grouping machine keys</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#deleteKeyByIndex-int-int-">deleteKeyByIndex</a></span>(int&nbsp;keyType,
                int&nbsp;keyIndex)</code>
<div class="block">This method performs the delete the specified key in the internal key store.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#delKDHCertFile--">delKDHCertFile</a></span>()</code>
<div class="block">Delete KDH certificates</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#DukptAES_DecryptByIndex-int-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">DukptAES_DecryptByIndex</a></span>(int&nbsp;keyType,
                       int&nbsp;keyIndex,
                       int&nbsp;keyUsage,
                       int&nbsp;workingKeyAlg,
                       int&nbsp;algMode,
                       byte[]&nbsp;initVector,
                       int&nbsp;vectorLen,
                       byte[]&nbsp;data,
                       int&nbsp;dataLen,
                       int&nbsp;paddingMode,
                       <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs the decryption operation using the specified symmetric key in the internal key store.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#DukptAES_EncryptByIndex-int-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">DukptAES_EncryptByIndex</a></span>(int&nbsp;keyType,
                       int&nbsp;keyIndex,
                       int&nbsp;keyUsage,
                       int&nbsp;workingKeyAlg,
                       int&nbsp;algMode,
                       byte[]&nbsp;initVector,
                       int&nbsp;vectorLen,
                       byte[]&nbsp;data,
                       int&nbsp;dataLen,
                       int&nbsp;paddingMode,
                       <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs an encryption operation using the specified symmetric key in the internal key store.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#DukptAES_exportKsn-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">DukptAES_exportKsn</a></span>(int&nbsp;keyIndex,
                  <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;ksnBytesTypeValue)</code>
<div class="block">This method is used to get the KSN(Key Serial Number) associated with the specified DUKPT key.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#DukptAES_macByIndex-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">DukptAES_macByIndex</a></span>(int&nbsp;keyType,
                   int&nbsp;keyIndex,
                   int&nbsp;keyUsage,
                   int&nbsp;workingKeyAlg,
                   byte[]&nbsp;initVector,
                   int&nbsp;vectorLen,
                   byte[]&nbsp;data,
                   int&nbsp;dataLen,
                   int&nbsp;mode,
                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;macBytesTypeValue)</code>
<div class="block">This method is used to calculate MAC using the specified key in the internal key store.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#exchangeKeyWithECDH-byte:A-byte:A-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-com.ftpos.library.smartpos.datautils.BytesTypeValue-com.ftpos.library.smartpos.datautils.BytesTypeValue-">exchangeKeyWithECDH</a></span>(byte[]&nbsp;hostPubKey,
                   byte[]&nbsp;hostRandom,
                   byte[]&nbsp;signature,
                   int&nbsp;kbpkindex,
                   int&nbsp;alg,
                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;devicePubKey,
                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;deviceRandom,
                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;deviceSN)</code>
<div class="block">The KBPK key is injected using the ECDTHE key protocol</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#exportDukptKsn-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">exportDukptKsn</a></span>(int&nbsp;keyType,
              int&nbsp;keyIndex,
              <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;ksnBytesTypeValue)</code>
<div class="block">This method is used to get the KSN(Key Serial Number) associated with the specified DUKPT key.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#GenerateAndExportIpek-int-byte:A-int-byte:A-int-int-byte:A-int:A-byte:A-int-int-">GenerateAndExportIpek</a></span>(int&nbsp;bdkIndex,
                     byte[]&nbsp;ksn,
                     int&nbsp;ksnLen,
                     byte[]&nbsp;modulus,
                     int&nbsp;modulusLen,
                     int&nbsp;pubExp,
                     byte[]&nbsp;encryptedKey,
                     int[]&nbsp;EncryptedKeyLen,
                     byte[]&nbsp;kcv,
                     int&nbsp;kcvLen,
                     int&nbsp;flag)</code>
<div class="block">This function uses pre-saved BDK to calculate IPEK according to KSN, and encrypts it with the public key of the target POS for export.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#genRsaKeyPair-int-int-int-com.ftpos.library.smartpos.keymanager.RsaKeyPairType-">genRsaKeyPair</a></span>(int&nbsp;keyType,
             int&nbsp;keyIndex,
             int&nbsp;rsaBits,
             <a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaKeyPairType.html" title="class in com.ftpos.library.smartpos.keymanager">RsaKeyPairType</a>&nbsp;rsaKeyPairType)</code>
<div class="block">This method is used to generate an RSA key pair and save it internally.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getInstalledKey-int-com.ftpos.library.smartpos.datautils.IntArrayTypeValue-">getInstalledKey</a></span>(int&nbsp;maxKeyNum,
               <a href="../../../../../com/ftpos/library/smartpos/datautils/IntArrayTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">IntArrayTypeValue</a>&nbsp;keyIndex)</code>
<div class="block">This method is used to get the information about the installed key associated with the App</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html" title="class in com.ftpos.library.smartpos.keymanager">KeyManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getInstance-android.content.Context-">getInstance</a></span>(android.content.Context&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getKDHCertFile--">getKDHCertFile</a></span>()</code>
<div class="block">Get KDH certificates</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getKeyKCV-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">getKeyKCV</a></span>(int&nbsp;keyType,
         int&nbsp;keyIndex,
         <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block">This method is used to get the KCV(Key Check Value).</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getKeyStatus-int-int-">getKeyStatus</a></span>(int&nbsp;keyType,
            int&nbsp;keyIndex)</code>
<div class="block">Gets whether the specified key exists or the key container enabling state.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getKRDCertFile--">getKRDCertFile</a></span>()</code>
<div class="block">Get KRD certificates</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#getRSAPublicKeyWithDEREncoded-int-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">getRSAPublicKeyWithDEREncoded</a></span>(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             int&nbsp;DERModulusType,
                             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;bytesTypeValue)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#increaseKSN-int-int-">increaseKSN</a></span>(int&nbsp;keyType,
           int&nbsp;keyIndex)</code>
<div class="block">This method is used to increase the KSN of the specified DUKPT key.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#installTr34Blob-android.os.Bundle-byte:A-int-byte:A-int-com.ftpos.apiservice.aidl.data.BytesValue-">installTr34Blob</a></span>(android.os.Bundle&nbsp;bundle,
               byte[]&nbsp;deviceRandom,
               int&nbsp;deviceRandomLen,
               byte[]&nbsp;tr34KeyBlob,
               int&nbsp;tr34KeyBlobLen,
               com.ftpos.apiservice.aidl.data.BytesValue&nbsp;kcv)</code>
<div class="block">Install TR34 data packets</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadDukptAES_WithKCV-int-int-int-int-int-byte:A-byte:A-byte:A-int-">loadDukptAES_WithKCV</a></span>(int&nbsp;keyType,
                    int&nbsp;keyIndex,
                    int&nbsp;alg,
                    int&nbsp;protectKeyType,
                    int&nbsp;protectKeyIndex,
                    byte[]&nbsp;ipekData,
                    byte[]&nbsp;iKsnData,
                    byte[]&nbsp;kcv,
                    int&nbsp;kcvLen)</code>
<div class="block">This method is used to load IPEK (AES algorithm) to the key store.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadDukptAES-int-int-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadDukptAES</a></span>(int&nbsp;keyType,
            int&nbsp;keyIndex,
            int&nbsp;alg,
            int&nbsp;protectKeyType,
            int&nbsp;protectKeyIndex,
            byte[]&nbsp;ipekData,
            byte[]&nbsp;iKsnData,
            <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block">This method is used to load IPEK (AES algorithm) to the key store.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadDukptIpek-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadDukptIpek</a></span>(int&nbsp;keyType,
             int&nbsp;keyIndex,
             int&nbsp;alg,
             byte[]&nbsp;ipekData,
             byte[]&nbsp;iKsnData,
             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadDukptIpek-int-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadDukptIpek</a></span>(int&nbsp;keyType,
             int&nbsp;keyIndex,
             int&nbsp;alg,
             int&nbsp;protectKeyTypeAndIndex,
             byte[]&nbsp;ipekData,
             byte[]&nbsp;iKsnData,
             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadDukptIpek-int-int-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadDukptIpek</a></span>(int&nbsp;keyType,
             int&nbsp;keyIndex,
             int&nbsp;alg,
             int&nbsp;protectKeyType,
             int&nbsp;protectKeyIndex,
             byte[]&nbsp;ipekData,
             byte[]&nbsp;iKsnData,
             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block">This method is used to load IPEK (Initial PIN Encryption Key) to the key store.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadRsaEncryptedSymKey-int-int-int-int-byte:A-int-byte:A-int-byte:A-int-int-">loadRsaEncryptedSymKey</a></span>(int&nbsp;keyType,
                      int&nbsp;keyIndex,
                      int&nbsp;alg,
                      int&nbsp;rsaKeyIndex,
                      byte[]&nbsp;iKsnData,
                      int&nbsp;ksnLen,
                      byte[]&nbsp;keyData,
                      int&nbsp;keyDataLen,
                      byte[]&nbsp;kcv,
                      int&nbsp;kcvLen,
                      int&nbsp;mode)</code>
<div class="block">Import symmetric key.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadRsaKeyPair-int-int-int-byte:A-int-byte:A-byte:A-byte:A-byte:A-byte:A-">loadRsaKeyPair</a></span>(int&nbsp;keyType,
              int&nbsp;keyIndex,
              int&nbsp;bits,
              byte[]&nbsp;modulus,
              int&nbsp;pubExp,
              byte[]&nbsp;p,
              byte[]&nbsp;q,
              byte[]&nbsp;dp,
              byte[]&nbsp;dq,
              byte[]&nbsp;qinv)</code>
<div class="block">This method is used to load RSA key pair to key store, including a public key and private key.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadRsaPubKey-int-int-int-byte:A-int-">loadRsaPubKey</a></span>(int&nbsp;keyType,
             int&nbsp;keyIndex,
             int&nbsp;bits,
             byte[]&nbsp;modulus,
             int&nbsp;pubExp)</code>
<div class="block">This method is used to load an RSA public key.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadSymKey-int-int-int-int-byte:A-int-byte:A-">loadSymKey</a></span>(int&nbsp;keyType,
          int&nbsp;keyIndex,
          int&nbsp;alg,
          int&nbsp;protectKeyTypeAndIndex,
          byte[]&nbsp;keyData,
          int&nbsp;keyDataLen,
          byte[]&nbsp;kcvBytesValue)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadSymKey-int-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadSymKey</a></span>(int&nbsp;keyType,
          int&nbsp;keyIndex,
          int&nbsp;alg,
          int&nbsp;protectKeyTypeAndIndex,
          byte[]&nbsp;keyData,
          int&nbsp;keyDataLen,
          <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadSymKey-int-int-int-int-int-byte:A-int-byte:A-">loadSymKey</a></span>(int&nbsp;keyType,
          int&nbsp;keyIndex,
          int&nbsp;alg,
          int&nbsp;protectKeyType,
          int&nbsp;protectKeyIndex,
          byte[]&nbsp;keyData,
          int&nbsp;keyDataLen,
          byte[]&nbsp;kcvBytesValue)</code>
<div class="block">This method is used to load a symmetric key to the key store.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadSymKey-int-int-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadSymKey</a></span>(int&nbsp;keyType,
          int&nbsp;keyIndex,
          int&nbsp;alg,
          int&nbsp;protectKeyType,
          int&nbsp;protectKeyIndex,
          byte[]&nbsp;keyData,
          int&nbsp;keyDataLen,
          <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block">This method is used to load a symmetric key to the key store.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadSymKeyWithKCV-int-int-int-int-byte:A-int-byte:A-int-">loadSymKeyWithKCV</a></span>(int&nbsp;keyType,
                 int&nbsp;keyIndex,
                 int&nbsp;alg,
                 int&nbsp;protectKeyTypeAndIndex,
                 byte[]&nbsp;keyData,
                 int&nbsp;keyDataLen,
                 byte[]&nbsp;kcv,
                 int&nbsp;kcvLen)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadSymKeyWithKCV-int-int-int-int-int-byte:A-int-byte:A-int-">loadSymKeyWithKCV</a></span>(int&nbsp;keyType,
                 int&nbsp;keyIndex,
                 int&nbsp;alg,
                 int&nbsp;protectKeyType,
                 int&nbsp;protectKeyIndex,
                 byte[]&nbsp;keyData,
                 int&nbsp;keyDataLen,
                 byte[]&nbsp;kcv,
                 int&nbsp;kcvLen)</code>
<div class="block">Import symmetric key.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadTr31Key-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadTr31Key</a></span>(byte[]&nbsp;keyBlockData,
           int&nbsp;keyBlockDataLen,
           <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadTr31KeyByIndex-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadTr31KeyByIndex</a></span>(int&nbsp;keyType,
                  int&nbsp;keyIndex,
                  int&nbsp;kbpkIndex,
                  byte[]&nbsp;keyBlockData,
                  int&nbsp;keyBlockDataLen,
                  <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvValue)</code>
<div class="block">Import the key carried in the TR31 key block into the terminal key container.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#loadTr34BlobByIndexEx-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">loadTr34BlobByIndexEx</a></span>(int&nbsp;keyProtectIndex,
                     int&nbsp;keyIndex,
                     int&nbsp;keyType,
                     byte[]&nbsp;keyBlockData,
                     int&nbsp;keyBlockDataLen,
                     <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvValue)</code>
<div class="block">Install TR34 data packets</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#macByIndex-int-int-int-byte:A-int-byte:A-int-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">macByIndex</a></span>(int&nbsp;keyType,
          int&nbsp;keyIndex,
          int&nbsp;alg,
          byte[]&nbsp;initVector,
          int&nbsp;vectorLen,
          byte[]&nbsp;data,
          int&nbsp;dataLen,
          int&nbsp;mode,
          int&nbsp;flag,
          <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;macBytesTypeValue)</code>
<div class="block">This method is used to calculate MAC using the specified key in the internal key store.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#readRsaKey-int-int-com.ftpos.library.smartpos.keymanager.RsaKeyPairType-">readRsaKey</a></span>(int&nbsp;keyType,
          int&nbsp;keyIndex,
          <a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaKeyPairType.html" title="class in com.ftpos.library.smartpos.keymanager">RsaKeyPairType</a>&nbsp;rsaKeyPairType)</code>
<div class="block">This method is used to export RSA public key, which include two parts, modulus and public exponent.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#reEncryptSymKey-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-int-">reEncryptSymKey</a></span>(int&nbsp;ProtectKeyType,
               int&nbsp;ProtectKeyIndex,
               int&nbsp;TargetKeyAlg,
               byte[]&nbsp;CipherKey,
               int&nbsp;CipherKeyLen,
               byte[]&nbsp;Modulus,
               int&nbsp;ModulusLen,
               int&nbsp;PubExp,
               <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesValue,
               int&nbsp;Flag)</code>
<div class="block">Use the public key to re-encrypt the symmetric key encrypted by the symmetric protection key.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#rsaDecryptByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">rsaDecryptByIndex</a></span>(int&nbsp;keyType,
                 int&nbsp;keyIndex,
                 byte[]&nbsp;data,
                 int&nbsp;dataLen,
                 int&nbsp;paddingMode,
                 <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs RSA decryption using the specified private key in the internal key store.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#rsaEncryptByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">rsaEncryptByIndex</a></span>(int&nbsp;keyType,
                 int&nbsp;keyIndex,
                 byte[]&nbsp;data,
                 int&nbsp;dataLen,
                 int&nbsp;paddingMode,
                 <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs RSA encryption using the specified key in the internal key store.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#rsaPrivateKeyOperationByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">rsaPrivateKeyOperationByIndex</a></span>(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             byte[]&nbsp;data,
                             int&nbsp;dataLen,
                             int&nbsp;paddingMode,
                             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs RSA operation using the specified private key in the internal key store.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#rsaPublicKeyOperationByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">rsaPublicKeyOperationByIndex</a></span>(int&nbsp;keyType,
                            int&nbsp;keyIndex,
                            byte[]&nbsp;data,
                            int&nbsp;dataLen,
                            int&nbsp;paddingMode,
                            <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs RSA operation using the specified key in the internal key store.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#rsaSingByIndex-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">rsaSingByIndex</a></span>(int&nbsp;keyIndex,
              int&nbsp;hashAlg,
              byte[]&nbsp;digest,
              int&nbsp;paddingMode,
              <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs RSA sign using the specified key in the internal key store.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#rsaVerifyByIndex-int-int-byte:A-byte:A-int-int-">rsaVerifyByIndex</a></span>(int&nbsp;keyIndex,
                int&nbsp;hashAlg,
                byte[]&nbsp;digest,
                byte[]&nbsp;signatureMsg,
                int&nbsp;signatureMsgLen,
                int&nbsp;paddingMode)</code>
<div class="block">This method uses RSA private for signature calculation to get the signed data
 The key components, as well as the data, are all in Big-Endian format.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#setKeyGroupName-java.lang.String-">setKeyGroupName</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Set the name of the key group</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#symDecryptByIndex-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">symDecryptByIndex</a></span>(int&nbsp;keyType,
                 int&nbsp;keyIndex,
                 int&nbsp;alg,
                 int&nbsp;algMode,
                 byte[]&nbsp;initVector,
                 int&nbsp;vectorLen,
                 byte[]&nbsp;data,
                 int&nbsp;dataLen,
                 int&nbsp;paddingMode,
                 <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs the decryption operation using the specified symmetric key in the internal key store.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#symEncryptByIndex-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">symEncryptByIndex</a></span>(int&nbsp;keyType,
                 int&nbsp;keyIndex,
                 int&nbsp;alg,
                 int&nbsp;algMode,
                 byte[]&nbsp;initVector,
                 int&nbsp;vectorLen,
                 byte[]&nbsp;data,
                 int&nbsp;dataLen,
                 int&nbsp;paddingMode,
                 <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</code>
<div class="block">This method performs an encryption operation using the specified symmetric key in the internal key store.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html#verifyKDHCertFile-byte:A-">verifyKDHCertFile</a></span>(byte[]&nbsp;data)</code>
<div class="block">Add KDH certificates</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance-android.content.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyManager.html" title="class in com.ftpos.library.smartpos.keymanager">KeyManager</a>&nbsp;getInstance(android.content.Context&nbsp;context)</pre>
</li>
</ul>
<a name="loadSymKey-int-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSymKey</h4>
<pre>@Deprecated
public&nbsp;int&nbsp;loadSymKey(int&nbsp;keyType,
                                   int&nbsp;keyIndex,
                                   int&nbsp;alg,
                                   int&nbsp;protectKeyTypeAndIndex,
                                   byte[]&nbsp;keyData,
                                   int&nbsp;keyDataLen,
                                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">This method is used to load a symmetric key to the key store. There are two ways to load the key,
 one is to load the key in plaintext, and another way is to load the ciphertext key under the protection of the protective key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyTypeAndIndex</code> - The type and index of the protective key , value:  protective keyType | protective keyIndex.
                               If the keyData is plaintext, this parameter shall be 0x0000 ;
                               Else key data is ciphertext, which is encrypted by the protective key, this parameter should the type and index of the protective key,</dd>
<dd><code>keyData</code> - The value of the key.</dd>
<dd><code>keyDataLen</code> - The length of the key value.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadSymKey-int-int-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSymKey</h4>
<pre>public&nbsp;int&nbsp;loadSymKey(int&nbsp;keyType,
                      int&nbsp;keyIndex,
                      int&nbsp;alg,
                      int&nbsp;protectKeyType,
                      int&nbsp;protectKeyIndex,
                      byte[]&nbsp;keyData,
                      int&nbsp;keyDataLen,
                      <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block">This method is used to load a symmetric key to the key store. There are two ways to load the key,
 one is to load the key in plaintext, and another way is to load the ciphertext key under the protection of the protective key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyType</code> - The Type of the protective key.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the type of the encryption key;
                          If the type of the imported key is SK, this parameter should be the type value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>protectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the index of the encryption key;
                          If the type of the imported key is SK, this parameter should be the index value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>keyData</code> - The value of the key.</dd>
<dd><code>keyDataLen</code> - The length of the key value.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadSymKey-int-int-int-int-byte:A-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSymKey</h4>
<pre>@Deprecated
public&nbsp;int&nbsp;loadSymKey(int&nbsp;keyType,
                                   int&nbsp;keyIndex,
                                   int&nbsp;alg,
                                   int&nbsp;protectKeyTypeAndIndex,
                                   byte[]&nbsp;keyData,
                                   int&nbsp;keyDataLen,
                                   byte[]&nbsp;kcvBytesValue)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">This method is used to load a symmetric key to the key store. There are two ways to load the key,
 one is to load the key in plaintext, and another way is to load the ciphertext key under the protection of the protective key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyTypeAndIndex</code> - The type and index of the protective key , value:  protective keyType | protective keyIndex.
                               If the keyData is plaintext, this parameter shall be 0x0000 ;
                               Else key data is ciphertext, which is encrypted by the protective key, this parameter should the type and index of the protective key,</dd>
<dd><code>keyData</code> - The value of the key.</dd>
<dd><code>keyDataLen</code> - The length of the key value.</dd>
<dd><code>kcvBytesValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadSymKey-int-int-int-int-int-byte:A-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSymKey</h4>
<pre>public&nbsp;int&nbsp;loadSymKey(int&nbsp;keyType,
                      int&nbsp;keyIndex,
                      int&nbsp;alg,
                      int&nbsp;protectKeyType,
                      int&nbsp;protectKeyIndex,
                      byte[]&nbsp;keyData,
                      int&nbsp;keyDataLen,
                      byte[]&nbsp;kcvBytesValue)</pre>
<div class="block">This method is used to load a symmetric key to the key store. There are two ways to load the key,
 one is to load the key in plaintext, and another way is to load the ciphertext key under the protection of the protective key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyType</code> - The Type of the protective key.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the type of the encryption key;
                          If the type of the imported key is SK, this parameter should be the type value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>protectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the index of the encryption key;
                          If the type of the imported key is SK, this parameter should be the index value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>keyData</code> - The value of the key.</dd>
<dd><code>keyDataLen</code> - The length of the key value.</dd>
<dd><code>kcvBytesValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadTr31Key-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadTr31Key</h4>
<pre>@Deprecated
public&nbsp;int&nbsp;loadTr31Key(byte[]&nbsp;keyBlockData,
                                    int&nbsp;keyBlockDataLen,
                                    <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">This method is used to load a key in the TR-31 format to the key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyBlockData</code> - The key data in TR-31 format.</dd>
<dd><code>keyBlockDataLen</code> - The length of the key data.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadRsaPubKey-int-int-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadRsaPubKey</h4>
<pre>public&nbsp;int&nbsp;loadRsaPubKey(int&nbsp;keyType,
                         int&nbsp;keyIndex,
                         int&nbsp;bits,
                         byte[]&nbsp;modulus,
                         int&nbsp;pubExp)</pre>
<div class="block">This method is used to load an RSA public key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>bits</code> - The length of the RSA modulus, in bits.</dd>
<dd><code>modulus</code> - The RSA modulus.</dd>
<dd><code>pubExp</code> - The RSA public exponent.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadDukptIpek-int-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDukptIpek</h4>
<pre>@Deprecated
public&nbsp;int&nbsp;loadDukptIpek(int&nbsp;keyType,
                                      int&nbsp;keyIndex,
                                      int&nbsp;alg,
                                      int&nbsp;protectKeyTypeAndIndex,
                                      byte[]&nbsp;ipekData,
                                      byte[]&nbsp;iKsnData,
                                      <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">This method is used to load IPEK (Initial PIN Encryption Key) to the key store. in the case that ipek is in plaintext form, the
 protectKeyInde must be 0x00.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, it currently supports SYM_ARITH_DES/SYM_ARITH_3DES/SYM_ARITH_AES.
                               Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyTypeAndIndex</code> - The type and index of the protective key , value:  protective keyType | protective keyIndex.
                               If the keyData is plaintext, this parameter shall be 0x0000 ;
                               Else key data is ciphertext, which is encrypted by the protective key, this parameter should the type and index of the protective key,</dd>
<dd><code>ipekData</code> - The initial encryption key data, length is 16 bytes.</dd>
<dd><code>iKsnData</code> - The KSN data, fixed to 10 bytes.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadDukptIpek-int-int-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDukptIpek</h4>
<pre>public&nbsp;int&nbsp;loadDukptIpek(int&nbsp;keyType,
                         int&nbsp;keyIndex,
                         int&nbsp;alg,
                         int&nbsp;protectKeyType,
                         int&nbsp;protectKeyIndex,
                         byte[]&nbsp;ipekData,
                         byte[]&nbsp;iKsnData,
                         <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block">This method is used to load IPEK (Initial PIN Encryption Key) to the key store. in the case that ipek is in plaintext form, the
 protectKeyInde must be 0x00.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, it currently supports SYM_ARITH_DES/SYM_ARITH_3DES/SYM_ARITH_AES.
                          Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyType</code> - The Type of the protective key.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the type of the encryption key;
                          If the type of the imported key is SK, this parameter should be the type value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>protectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the index of the encryption key;
                          If the type of the imported key is SK, this parameter should be the index value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>ipekData</code> - The initial encryption key data, length is 16 bytes.</dd>
<dd><code>iKsnData</code> - The KSN data, fixed to 10 bytes.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadDukptIpek-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDukptIpek</h4>
<pre>@Deprecated
public&nbsp;int&nbsp;loadDukptIpek(int&nbsp;keyType,
                                      int&nbsp;keyIndex,
                                      int&nbsp;alg,
                                      byte[]&nbsp;ipekData,
                                      byte[]&nbsp;iKsnData,
                                      <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">This method is used to load IPEK (Initial PIN Encryption Key) to the key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, it currently supports SYM_ARITH_DES/SYM_ARITH_3DES/SYM_ARITH_AES.
                          Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>ipekData</code> - The initial encryption key data, length is 16 bytes.</dd>
<dd><code>iKsnData</code> - The KSN data, fixed to 10 bytes.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="exportDukptKsn-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportDukptKsn</h4>
<pre>public&nbsp;int&nbsp;exportDukptKsn(int&nbsp;keyType,
                          int&nbsp;keyIndex,
                          <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;ksnBytesTypeValue)</pre>
<div class="block">This method is used to get the KSN(Key Serial Number) associated with the specified DUKPT key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>ksnBytesTypeValue</code> - KSN value, the length is 10 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="increaseKSN-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increaseKSN</h4>
<pre>public&nbsp;int&nbsp;increaseKSN(int&nbsp;keyType,
                       int&nbsp;keyIndex)</pre>
<div class="block">This method is used to increase the KSN of the specified DUKPT key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="genRsaKeyPair-int-int-int-com.ftpos.library.smartpos.keymanager.RsaKeyPairType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genRsaKeyPair</h4>
<pre>public&nbsp;int&nbsp;genRsaKeyPair(int&nbsp;keyType,
                         int&nbsp;keyIndex,
                         int&nbsp;rsaBits,
                         <a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaKeyPairType.html" title="class in com.ftpos.library.smartpos.keymanager">RsaKeyPairType</a>&nbsp;rsaKeyPairType)</pre>
<div class="block">This method is used to generate an RSA key pair and save it internally.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0xFF;all application will share keyspace.</dd>
<dd><code>rsaBits</code> - The length of RSA modulus, in bits. Support 1024 bits and 2048 bits.</dd>
<dd><code>rsaKeyPairType</code> - RsaKeyPair object.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="readRsaKey-int-int-com.ftpos.library.smartpos.keymanager.RsaKeyPairType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRsaKey</h4>
<pre>public&nbsp;int&nbsp;readRsaKey(int&nbsp;keyType,
                      int&nbsp;keyIndex,
                      <a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaKeyPairType.html" title="class in com.ftpos.library.smartpos.keymanager">RsaKeyPairType</a>&nbsp;rsaKeyPairType)</pre>
<div class="block">This method is used to export RSA public key, which include two parts, modulus and public exponent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>rsaKeyPairType</code> - RsaKeyPair object.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="getKeyKCV-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyKCV</h4>
<pre>public&nbsp;int&nbsp;getKeyKCV(int&nbsp;keyType,
                     int&nbsp;keyIndex,
                     <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block">This method is used to get the KCV(Key Check Value).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadRsaKeyPair-int-int-int-byte:A-int-byte:A-byte:A-byte:A-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadRsaKeyPair</h4>
<pre>public&nbsp;int&nbsp;loadRsaKeyPair(int&nbsp;keyType,
                          int&nbsp;keyIndex,
                          int&nbsp;bits,
                          byte[]&nbsp;modulus,
                          int&nbsp;pubExp,
                          byte[]&nbsp;p,
                          byte[]&nbsp;q,
                          byte[]&nbsp;dp,
                          byte[]&nbsp;dq,
                          byte[]&nbsp;qinv)</pre>
<div class="block">This method is used to load RSA key pair to key store, including a public key and private key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>bits</code> - The length of RSA modulus, in bits.</dd>
<dd><code>modulus</code> - The RSA modulus.</dd>
<dd><code>pubExp</code> - The RSA public exponent.</dd>
<dd><code>p</code> - Private Key component: P.</dd>
<dd><code>q</code> - Private Key component: Q.</dd>
<dd><code>dp</code> - Private Key component: DP.</dd>
<dd><code>dq</code> - Private Key component: DQ.</dd>
<dd><code>qinv</code> - Private Key component: Qinv.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="getInstalledKey-int-com.ftpos.library.smartpos.datautils.IntArrayTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstalledKey</h4>
<pre>public&nbsp;int&nbsp;getInstalledKey(int&nbsp;maxKeyNum,
                           <a href="../../../../../com/ftpos/library/smartpos/datautils/IntArrayTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">IntArrayTypeValue</a>&nbsp;keyIndex)</pre>
<div class="block">This method is used to get the information about the installed key associated with the App</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxKeyNum</code> - The maximum number of key returned.</dd>
<dd><code>keyIndex</code> - All key indices returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="rsaEncryptByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rsaEncryptByIndex</h4>
<pre>public&nbsp;int&nbsp;rsaEncryptByIndex(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             byte[]&nbsp;data,
                             int&nbsp;dataLen,
                             int&nbsp;paddingMode,
                             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs RSA encryption using the specified key in the internal key store.
 The key components, as well as the data, are all in Big-Endian format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>data</code> - The original plaintext data. The value must be less than the modulus.</dd>
<dd><code>dataLen</code> - The length of the data in bytes.
                             Note that for the RSA_PADDING_MODE_RAW encryption mode, the length of data must be equal to the length of modulus;
                             for the RSA_PADDING_MODE_PKCS_V15 encryption mode, the length of the data shall not be greater than the length
                             of modulus minus 11 bytes.</dd>
<dd><code>paddingMode</code> - Padding mode. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaAlgPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>RsaAlgPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - Data encrypted by RSA algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="rsaDecryptByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rsaDecryptByIndex</h4>
<pre>public&nbsp;int&nbsp;rsaDecryptByIndex(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             byte[]&nbsp;data,
                             int&nbsp;dataLen,
                             int&nbsp;paddingMode,
                             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs RSA decryption using the specified private key in the internal key store.
 The key components, as well as the data, are all in Big-Endian format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>data</code> - The data need to be decrypted.</dd>
<dd><code>dataLen</code> - The length of data in bytes, which must be equal to the number of bytes of modulus in the public key.</dd>
<dd><code>paddingMode</code> - Padding mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaAlgPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>RsaAlgPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - Data decrypted by RSA algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="rsaPublicKeyOperationByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rsaPublicKeyOperationByIndex</h4>
<pre>public&nbsp;int&nbsp;rsaPublicKeyOperationByIndex(int&nbsp;keyType,
                                        int&nbsp;keyIndex,
                                        byte[]&nbsp;data,
                                        int&nbsp;dataLen,
                                        int&nbsp;paddingMode,
                                        <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs RSA operation using the specified key in the internal key store.
 The key components, as well as the data, are all in Big-Endian format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>data</code> - The original plaintext data. The value must be less than the modulus.</dd>
<dd><code>dataLen</code> - The length of the data in bytes.
                             Note that for the RSA_PADDING_MODE_RAW encryption mode, the length of data must be equal to the length of modulus;
                             for the RSA_PADDING_MODE_PKCS_V15 encryption mode, the length of the data shall not be greater than the length
                             of modulus minus 11 bytes.</dd>
<dd><code>paddingMode</code> - Padding mode. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaAlgPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>RsaAlgPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - Data encrypted by RSA algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="rsaPrivateKeyOperationByIndex-int-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rsaPrivateKeyOperationByIndex</h4>
<pre>public&nbsp;int&nbsp;rsaPrivateKeyOperationByIndex(int&nbsp;keyType,
                                         int&nbsp;keyIndex,
                                         byte[]&nbsp;data,
                                         int&nbsp;dataLen,
                                         int&nbsp;paddingMode,
                                         <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs RSA operation using the specified private key in the internal key store.
 The key components, as well as the data, are all in Big-Endian format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>data</code> - The data need to be decrypted.</dd>
<dd><code>dataLen</code> - The length of data in bytes, which must be equal to the number of bytes of modulus in the public key.</dd>
<dd><code>paddingMode</code> - Padding mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/RsaAlgPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>RsaAlgPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - Data decrypted by RSA algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="rsaSingByIndex-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rsaSingByIndex</h4>
<pre>public&nbsp;int&nbsp;rsaSingByIndex(int&nbsp;keyIndex,
                          int&nbsp;hashAlg,
                          byte[]&nbsp;digest,
                          int&nbsp;paddingMode,
                          <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs RSA sign using the specified key in the internal key store.
 The key components, as well as the data, are all in Big-Endian format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>hashAlg</code> - The algorithm identification, it currently supports HASH_ALG_SHA1/HASH_ALG_SHA256.Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/HashAlgorithm.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>HashAlgorithm</code></a></dd>
<dd><code>digest</code> - Data HASH result. If it is SHA1, the data length must be 20 bytes, if it is SHA256, the data length must be 32 bytes.</dd>
<dd><code>paddingMode</code> - Padding mode.only support RSA_PADDING_MODE_PKCS_V15.</dd>
<dd><code>resultBytesTypeValue</code> - Data signed by RSA algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
         Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="rsaVerifyByIndex-int-int-byte:A-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rsaVerifyByIndex</h4>
<pre>public&nbsp;int&nbsp;rsaVerifyByIndex(int&nbsp;keyIndex,
                            int&nbsp;hashAlg,
                            byte[]&nbsp;digest,
                            byte[]&nbsp;signatureMsg,
                            int&nbsp;signatureMsgLen,
                            int&nbsp;paddingMode)</pre>
<div class="block">This method uses RSA private for signature calculation to get the signed data
 The key components, as well as the data, are all in Big-Endian format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x00~0x0F;all application will share keyspace.</dd>
<dd><code>hashAlg</code> - HASH algorithm identification. it currently supports HASH_ALG_SHA1/HASH_ALG_SHA256.Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/HashAlgorithm.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>HashAlgorithm</code></a></dd>
<dd><code>digest</code> - Data HASH result. If it is SHA1, the data length must be 20 bytes, if it is SHA256, the data length must be 32 bytes.</dd>
<dd><code>signatureMsg</code> - The data need to be verifyed.</dd>
<dd><code>signatureMsgLen</code> - The length of data in bytes, which must be equal to the number of bytes of modulus in the public key.</dd>
<dd><code>paddingMode</code> - Padding mode, only support RSA_PADDING_MODE_PKCS_V15.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Sign verification failed.</dd>
</dl>
</li>
</ul>
<a name="symEncryptByIndex-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>symEncryptByIndex</h4>
<pre>public&nbsp;int&nbsp;symEncryptByIndex(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             int&nbsp;alg,
                             int&nbsp;algMode,
                             byte[]&nbsp;initVector,
                             int&nbsp;vectorLen,
                             byte[]&nbsp;data,
                             int&nbsp;dataLen,
                             int&nbsp;paddingMode,
                             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs an encryption operation using the specified symmetric key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, currently supports SYM_ARITH_3DES, SYM_ARITH_AES and SYM_ARITH_SM4. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>algMode</code> - Encryption mode, SYM_ARITH_ECB or SYM_ARITH_CBC. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionMode</code></a></dd>
<dd><code>initVector</code> - The initialization vector, which is valid when algMode is SYM_ARITH_CBC.</dd>
<dd><code>vectorLen</code> - The length of the initialization vector.</dd>
<dd><code>data</code> - The data need to be encrypted.</dd>
<dd><code>dataLen</code> - The length of the data to be encrypted.</dd>
<dd><code>paddingMode</code> - Padding mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - The data is encrypted by a symmetric algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="symDecryptByIndex-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>symDecryptByIndex</h4>
<pre>public&nbsp;int&nbsp;symDecryptByIndex(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             int&nbsp;alg,
                             int&nbsp;algMode,
                             byte[]&nbsp;initVector,
                             int&nbsp;vectorLen,
                             byte[]&nbsp;data,
                             int&nbsp;dataLen,
                             int&nbsp;paddingMode,
                             <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs the decryption operation using the specified symmetric key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, currently supports SYM_ARITH_3DES, SYM_ARITH_AES and SYM_ARITH_SM4. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>algMode</code> - Encryption mode, SYM_ARITH_ECB or SYM_ARITH_CBC. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionMode</code></a></dd>
<dd><code>initVector</code> - The initialization vector, which is valid when algMode is SYM_ARITH_CBC.</dd>
<dd><code>vectorLen</code> - The length of the initialization vector.</dd>
<dd><code>data</code> - The data need to be decrypted.</dd>
<dd><code>dataLen</code> - The length of the data to be decrypted.</dd>
<dd><code>paddingMode</code> - Padding mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - The data is decrypted by a symmetric algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="macByIndex-int-int-int-byte:A-int-byte:A-int-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>macByIndex</h4>
<pre>public&nbsp;int&nbsp;macByIndex(int&nbsp;keyType,
                      int&nbsp;keyIndex,
                      int&nbsp;alg,
                      byte[]&nbsp;initVector,
                      int&nbsp;vectorLen,
                      byte[]&nbsp;data,
                      int&nbsp;dataLen,
                      int&nbsp;mode,
                      int&nbsp;flag,
                      <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;macBytesTypeValue)</pre>
<div class="block">This method is used to calculate MAC using the specified key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  KEY_TYPE_MK or KEY_TYPE_MEK. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification, currently supports SYM_ARITH_3DES, SYM_ARITH_AES and SYM_ARITH_SM4. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>initVector</code> - The initialization vector, which is valid when algMode is SYM_ARITH_CBC.</dd>
<dd><code>vectorLen</code> - The length of the initialization vector.</dd>
<dd><code>data</code> - The original data used to calculate the MAC.</dd>
<dd><code>dataLen</code> - The length of the original data.</dd>
<dd><code>mode</code> - MAC mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/MacMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>MacMode</code></a></dd>
<dd><code>flag</code> - 0: the MAC calculation is done in "MAC(Response)" mode ;
                          other: the MAC calculation is done in the "MAC(Request)" mode.
                          Please refer to the X9.24 specification.</dd>
<dd><code>macBytesTypeValue</code> - Result of MAC calculation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="setKeyGroupName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyGroupName</h4>
<pre>public&nbsp;int&nbsp;setKeyGroupName(java.lang.String&nbsp;name)</pre>
<div class="block">Set the name of the key group</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - Group name of the key group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadSymKeyWithKCV-int-int-int-int-byte:A-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSymKeyWithKCV</h4>
<pre>@Deprecated
public&nbsp;int&nbsp;loadSymKeyWithKCV(int&nbsp;keyType,
                                          int&nbsp;keyIndex,
                                          int&nbsp;alg,
                                          int&nbsp;protectKeyTypeAndIndex,
                                          byte[]&nbsp;keyData,
                                          int&nbsp;keyDataLen,
                                          byte[]&nbsp;kcv,
                                          int&nbsp;kcvLen)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">Import symmetric key. The protection key can be symmetric or asymmetric.
 Note: 1. Currently, this function assumes that the ciphertext length of the Key passed in is equal to the plaintext length.In addition, for the Session Key of AES algorithm, currently only 128 bits and 256 bits are supported, but 192 bits are not.
 2. If the KEY_TYPE_KBPK key is imported, the low byte of WKEYINDEX must be 0x00.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  KEY_TYPE_MK or KEY_TYPE_MEK. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dd><code>alg</code> - Algorithm identifier. SYM_ARITH_3DES,SYM_ARITH_AES or SYM_ARITH_SM4.</dd>
<dd><code>protectKeyTypeAndIndex</code> - The type and index of the protective key , value:  protective keyType | protective keyIndex.
                               If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                               If the ciphertext key is imported, this parameter should be the type and index value of encryption key;
                               If the type of the imported key is SK, this parameter should be the type and index value of MK,
                               and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>keyData</code> - Key data is plaintext if there is no protective key, or ciphertext encrypted by a protective key if there is</dd>
<dd><code>keyDataLen</code> - Key data length</dd>
<dd><code>kcv</code> - Captcha, which is returned to verify that the imported key is correct.</dd>
<dd><code>kcvLen</code> - The length of kcv.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadSymKeyWithKCV-int-int-int-int-int-byte:A-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSymKeyWithKCV</h4>
<pre>public&nbsp;int&nbsp;loadSymKeyWithKCV(int&nbsp;keyType,
                             int&nbsp;keyIndex,
                             int&nbsp;alg,
                             int&nbsp;protectKeyType,
                             int&nbsp;protectKeyIndex,
                             byte[]&nbsp;keyData,
                             int&nbsp;keyDataLen,
                             byte[]&nbsp;kcv,
                             int&nbsp;kcvLen)</pre>
<div class="block">Import symmetric key. The protection key can be symmetric or asymmetric.
 Note: 1. Currently, this function assumes that the ciphertext length of the Key passed in is equal to the plaintext length.In addition, for the Session Key of AES algorithm, currently only 128 bits and 256 bits are supported, but 192 bits are not.
 2. If the KEY_TYPE_KBPK key is imported, the low byte of WKEYINDEX must be 0x00.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  KEY_TYPE_MK or KEY_TYPE_MEK. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dd><code>alg</code> - Algorithm identifier. SYM_ARITH_3DES,SYM_ARITH_AES or SYM_ARITH_SM4.</dd>
<dd><code>protectKeyType</code> - The Type of the protective key.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the type of the encryption key;
                          If the type of the imported key is SK, this parameter should be the type value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>protectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the index of the encryption key;
                          If the type of the imported key is SK, this parameter should be the index value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>keyData</code> - Key data is plaintext if there is no protective key, or ciphertext encrypted by a protective key if there is</dd>
<dd><code>keyDataLen</code> - Key data length</dd>
<dd><code>kcv</code> - Captcha, which is returned to verify that the imported key is correct.</dd>
<dd><code>kcvLen</code> - The length of kcv.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="deleteKeyByIndex-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteKeyByIndex</h4>
<pre>public&nbsp;int&nbsp;deleteKeyByIndex(int&nbsp;keyType,
                            int&nbsp;keyIndex)</pre>
<div class="block">This method performs the delete the specified key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  KEY_TYPE_MK or KEY_TYPE_MEK. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="deleteAllKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllKey</h4>
<pre>public&nbsp;int&nbsp;deleteAllKey()</pre>
<div class="block">This method performs the delete the all key in the internal key store.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="deleteAllKeyGroup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllKeyGroup</h4>
<pre>public&nbsp;int&nbsp;deleteAllKeyGroup()</pre>
<div class="block">This method removes all key grouping machine keys</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="getKeyStatus-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyStatus</h4>
<pre>public&nbsp;int&nbsp;getKeyStatus(int&nbsp;keyType,
                        int&nbsp;keyIndex)</pre>
<div class="block">Gets whether the specified key exists or the key container enabling state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadTr31KeyByIndex-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadTr31KeyByIndex</h4>
<pre>public&nbsp;int&nbsp;loadTr31KeyByIndex(int&nbsp;keyType,
                              int&nbsp;keyIndex,
                              int&nbsp;kbpkIndex,
                              byte[]&nbsp;keyBlockData,
                              int&nbsp;keyBlockDataLen,
                              <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvValue)</pre>
<div class="block">Import the key carried in the TR31 key block into the terminal key container. The protection key of the key block is KBPK</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  KEY_TYPE_MK or KEY_TYPE_MEK. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dd><code>kbpkIndex</code> - KBPK Key index.TR31 block protection key index value. (the value range is 0x01~0xFF)</dd>
<dd><code>keyBlockData</code> - A key block conforming to ANSI TR-31 specification</dd>
<dd><code>keyBlockDataLen</code> - Total length of key block</dd>
<dd><code>kcvValue</code> - Captcha code, returned to verify that the import key is correct. Length is equal to 3.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="exchangeKeyWithECDH-byte:A-byte:A-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-com.ftpos.library.smartpos.datautils.BytesTypeValue-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exchangeKeyWithECDH</h4>
<pre>public&nbsp;int&nbsp;exchangeKeyWithECDH(byte[]&nbsp;hostPubKey,
                               byte[]&nbsp;hostRandom,
                               byte[]&nbsp;signature,
                               int&nbsp;kbpkindex,
                               int&nbsp;alg,
                               <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;devicePubKey,
                               <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;deviceRandom,
                               <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;deviceSN)</pre>
<div class="block">The KBPK key is injected using the ECDTHE key protocol</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostPubKey</code> - The host public key.</dd>
<dd><code>hostRandom</code> - Host random number.</dd>
<dd><code>signature</code> - The signature value.</dd>
<dd><code>kbpkindex</code> - The index of the kbpk key,the value range is 0x01~0xFF</dd>
<dd><code>alg</code> - The algorithm identification,Working key algorithm type. Can be the following values:
                     SYM_ARITH_3DES: 3DESAlgorithm, the key is 16 bytes.
                     SYM_ARITH_3DES_3K: 3DESAlgorithm, the key is 24 bytes.
                     SYM_ARITH_AES: AESAlgorithm, the key is 16 bytes.
                     SYM_ARITH_AES192: AESAlgorithm, the key is 24 bytes.
                     SYM_ARITH_AES256: AESAlgorithm, the key is 32 bytes.Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>devicePubKey</code> - The public key generated by the device.</dd>
<dd><code>deviceRandom</code> - The random number generated by the device.</dd>
<dd><code>deviceSN</code> - Device serial number.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadDukptAES-int-int-int-int-int-byte:A-byte:A-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDukptAES</h4>
<pre>public&nbsp;int&nbsp;loadDukptAES(int&nbsp;keyType,
                        int&nbsp;keyIndex,
                        int&nbsp;alg,
                        int&nbsp;protectKeyType,
                        int&nbsp;protectKeyIndex,
                        byte[]&nbsp;ipekData,
                        byte[]&nbsp;iKsnData,
                        <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvBytesTypeValue)</pre>
<div class="block">This method is used to load IPEK (AES algorithm) to the key store. in the case that ipek is in plaintext form, the
 protectKeyInde must be 0x00.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification,Working key algorithm type. Can be the following values:
                          SYM_ARITH_3DES: 3DESAlgorithm, the key is 16 bytes.
                          SYM_ARITH_3DES_3K: 3DESAlgorithm, the key is 24 bytes.
                          SYM_ARITH_AES: AESAlgorithm, the key is 16 bytes.
                          SYM_ARITH_AES192: AESAlgorithm, the key is 24 bytes.
                          SYM_ARITH_AES256: AESAlgorithm, the key is 32 bytes. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyType</code> - The Type of the protective key.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the type of the encryption key;
                          If the type of the imported key is SK, this parameter should be the type value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>protectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the index of the encryption key;
                          If the type of the imported key is SK, this parameter should be the index value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>ipekData</code> - The initial encryption key data.</dd>
<dd><code>iKsnData</code> - The KSN data, fixed to 12 bytes.Initialize the last four bytes of the ksn value to 00000001.</dd>
<dd><code>kcvBytesTypeValue</code> - Key check value, the length is 3 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadDukptAES_WithKCV-int-int-int-int-int-byte:A-byte:A-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDukptAES_WithKCV</h4>
<pre>public&nbsp;int&nbsp;loadDukptAES_WithKCV(int&nbsp;keyType,
                                int&nbsp;keyIndex,
                                int&nbsp;alg,
                                int&nbsp;protectKeyType,
                                int&nbsp;protectKeyIndex,
                                byte[]&nbsp;ipekData,
                                byte[]&nbsp;iKsnData,
                                byte[]&nbsp;kcv,
                                int&nbsp;kcvLen)</pre>
<div class="block">This method is used to load IPEK (AES algorithm) to the key store. in the case that ipek is in plaintext form, the
 protectKeyInde must be 0x00.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>alg</code> - The algorithm identification,Working key algorithm type. Can be the following values:
                        SYM_ARITH_3DES: 3DESAlgorithm, the key is 16 bytes.
                        SYM_ARITH_3DES_3K: 3DESAlgorithm, the key is 24 bytes.
                        SYM_ARITH_AES: AESAlgorithm, the key is 16 bytes.
                        SYM_ARITH_AES192: AESAlgorithm, the key is 24 bytes.
                        SYM_ARITH_AES256: AESAlgorithm, the key is 32 bytes. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>protectKeyType</code> - The Type of the protective key.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the type of the encryption key;
                          If the type of the imported key is SK, this parameter should be the type value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>protectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.
                          If importing a plaintext key, this parameter should be 0x00 and keyData is plaintext;
                          If the ciphertext key is imported, this parameter is the index of the encryption key;
                          If the type of the imported key is SK, this parameter should be the index value of MK, and key data is ciphertext, which is encrypted by the protective key.</dd>
<dd><code>ipekData</code> - The initial encryption key data.</dd>
<dd><code>iKsnData</code> - The KSN data, fixed to 12 bytes.Initialize the last four bytes of the ksn value to 00000001.</dd>
<dd><code>kcv</code> - Captcha, which is returned to verify that the imported key is correct.</dd>
<dd><code>kcvLen</code> - The length of kcv.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="DukptAES_exportKsn-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DukptAES_exportKsn</h4>
<pre>public&nbsp;int&nbsp;DukptAES_exportKsn(int&nbsp;keyIndex,
                              <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;ksnBytesTypeValue)</pre>
<div class="block">This method is used to get the KSN(Key Serial Number) associated with the specified DUKPT key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>ksnBytesTypeValue</code> - KSN value, the length is 12 bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="DukptAES_EncryptByIndex-int-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DukptAES_EncryptByIndex</h4>
<pre>public&nbsp;int&nbsp;DukptAES_EncryptByIndex(int&nbsp;keyType,
                                   int&nbsp;keyIndex,
                                   int&nbsp;keyUsage,
                                   int&nbsp;workingKeyAlg,
                                   int&nbsp;algMode,
                                   byte[]&nbsp;initVector,
                                   int&nbsp;vectorLen,
                                   byte[]&nbsp;data,
                                   int&nbsp;dataLen,
                                   int&nbsp;paddingMode,
                                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs an encryption operation using the specified symmetric key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>keyUsage</code> - The key usage can be the following values.
                             KEY_USAGE_DATA_ENCRYPTION_ENCRYPT, Used for data encryption.
                             KEY_USAGE_DATA_ENCRYPTION_BOTH_WAYS,It is also used for data encryption or decryption.</dd>
<dd><code>workingKeyAlg</code> - The algorithm identification,Working key algorithm type. Can be the following values:
                             SYM_ARITH_3DES: 3DESAlgorithm, the key is 16 bytes.
                             SYM_ARITH_3DES_3K: 3DESAlgorithm, the key is 24 bytes.
                             SYM_ARITH_AES: AESAlgorithm, the key is 16 bytes.
                             SYM_ARITH_AES192: AESAlgorithm, the key is 24 bytes.
                             SYM_ARITH_AES256: AESAlgorithm, the key is 32 bytes. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>algMode</code> - Encryption mode, SYM_ARITH_ECB or SYM_ARITH_CBC. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionMode</code></a></dd>
<dd><code>initVector</code> - The initialization vector, which is valid when algMode is SYM_ARITH_CBC.</dd>
<dd><code>vectorLen</code> - The length of the initialization vector.</dd>
<dd><code>data</code> - The data need to be encrypted.</dd>
<dd><code>dataLen</code> - The length of the data to be encrypted.</dd>
<dd><code>paddingMode</code> - Padding mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - The data is encrypted by a symmetric algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="DukptAES_DecryptByIndex-int-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DukptAES_DecryptByIndex</h4>
<pre>public&nbsp;int&nbsp;DukptAES_DecryptByIndex(int&nbsp;keyType,
                                   int&nbsp;keyIndex,
                                   int&nbsp;keyUsage,
                                   int&nbsp;workingKeyAlg,
                                   int&nbsp;algMode,
                                   byte[]&nbsp;initVector,
                                   int&nbsp;vectorLen,
                                   byte[]&nbsp;data,
                                   int&nbsp;dataLen,
                                   int&nbsp;paddingMode,
                                   <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesTypeValue)</pre>
<div class="block">This method performs the decryption operation using the specified symmetric key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>keyUsage</code> - The key usage can be the following values.
                             KEY_USAGE_DATA_ENCRYPTION_DECRYPT, Used for data decryption.
                             KEY_USAGE_DATA_ENCRYPTION_BOTH_WAYS,It is also used for data encryption or decryption.</dd>
<dd><code>workingKeyAlg</code> - The algorithm identification,Working key algorithm type. Can be the following values:
                             SYM_ARITH_3DES: 3DESAlgorithm, the key is 16 bytes.
                             SYM_ARITH_3DES_3K: 3DESAlgorithm, the key is 24 bytes.
                             SYM_ARITH_AES: AESAlgorithm, the key is 16 bytes.
                             SYM_ARITH_AES192: AESAlgorithm, the key is 24 bytes.
                             SYM_ARITH_AES256: AESAlgorithm, the key is 32 bytes. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>algMode</code> - Encryption mode, SYM_ARITH_ECB or SYM_ARITH_CBC. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionMode</code></a></dd>
<dd><code>initVector</code> - The initialization vector, which is valid when algMode is SYM_ARITH_CBC.</dd>
<dd><code>vectorLen</code> - The length of the initialization vector.</dd>
<dd><code>data</code> - The data need to be decrypted.</dd>
<dd><code>dataLen</code> - The length of the data to be decrypted.</dd>
<dd><code>paddingMode</code> - Padding mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/EncryptionPaddingMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>EncryptionPaddingMode</code></a></dd>
<dd><code>resultBytesTypeValue</code> - The data is decrypted by a symmetric algorithm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success;
 Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="DukptAES_macByIndex-int-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DukptAES_macByIndex</h4>
<pre>public&nbsp;int&nbsp;DukptAES_macByIndex(int&nbsp;keyType,
                               int&nbsp;keyIndex,
                               int&nbsp;keyUsage,
                               int&nbsp;workingKeyAlg,
                               byte[]&nbsp;initVector,
                               int&nbsp;vectorLen,
                               byte[]&nbsp;data,
                               int&nbsp;dataLen,
                               int&nbsp;mode,
                               <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;macBytesTypeValue)</pre>
<div class="block">This method is used to calculate MAC using the specified key in the internal key store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - RFU;</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>keyUsage</code> - The key usage can be the following values.
                          KEY_USAGE_MESSAGE_AUTHENTICATION_GENERATION: Generate MAC
                          KEY_USAGE_MESSAGE_AUTHENTICATION_VERIFICATION: Verify MAC
                          KEY_USAGE_MESSAGE_AUTHENTICATION_BOTH_WAYS: At the same time, it supports generating MAC and verifying MAC, only applicable to X9.24 2017 specification.</dd>
<dd><code>workingKeyAlg</code> - The algorithm identification,Working key algorithm type. Can be the following values:
                          SYM_ARITH_3DES: 3DESAlgorithm, the key is 16 bytes.
                          SYM_ARITH_3DES_3K: 3DESAlgorithm, the key is 24 bytes.
                          SYM_ARITH_AES: AESAlgorithm, the key is 16 bytes.
                          SYM_ARITH_AES192: AESAlgorithm, the key is 24 bytes.
                          SYM_ARITH_AES256: AESAlgorithm, the key is 32 bytes. Refer to <a href="../../../../../com/ftpos/library/smartpos/keymanager/AlgName.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>AlgName</code></a></dd>
<dd><code>initVector</code> - The initialization vector, which is valid when algMode is SYM_ARITH_CBC.</dd>
<dd><code>vectorLen</code> - The length of the initialization vector.</dd>
<dd><code>data</code> - The original data used to calculate the MAC.</dd>
<dd><code>dataLen</code> - The length of the original data.</dd>
<dd><code>mode</code> - MAC mode, refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/MacMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>MacMode</code></a></dd>
<dd><code>macBytesTypeValue</code> - Result of MAC calculation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadRsaEncryptedSymKey-int-int-int-int-byte:A-int-byte:A-int-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadRsaEncryptedSymKey</h4>
<pre>public&nbsp;int&nbsp;loadRsaEncryptedSymKey(int&nbsp;keyType,
                                  int&nbsp;keyIndex,
                                  int&nbsp;alg,
                                  int&nbsp;rsaKeyIndex,
                                  byte[]&nbsp;iKsnData,
                                  int&nbsp;ksnLen,
                                  byte[]&nbsp;keyData,
                                  int&nbsp;keyDataLen,
                                  byte[]&nbsp;kcv,
                                  int&nbsp;kcvLen,
                                  int&nbsp;mode)</pre>
<div class="block">Import symmetric key. The protection key is an RSA key,The filling method is the default PKCS#1 V1.5.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  KEY_TYPE_MK/KEY_TYPE_IPEK/KEY_TYPE_FIEXKEY/KEY_TYPE_KBPK. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dd><code>alg</code> - Algorithm identifier. SYM_ARITH_3DES,SYM_ARITH_AES or SYM_ARITH_SM4.</dd>
<dd><code>rsaKeyIndex</code> - The RSA key index of the protective key,the value range is 0x00~0xFF.</dd>
<dd><code>iKsnData</code> - The KSN data, fixed to 10 bytes(When the import key type is IPEK, the ksn value needs to be passed in.In other cases, the value is null.).</dd>
<dd><code>ksnLen</code> - Ksn data length</dd>
<dd><code>keyData</code> - Key data is ciphertext encrypted by a protective key if there is</dd>
<dd><code>keyDataLen</code> - Key data length</dd>
<dd><code>kcv</code> - Captcha, which is returned to verify that the imported key is correct.</dd>
<dd><code>kcvLen</code> - The length of kcv.</dd>
<dd><code>mode</code> - Default is 0.(Reserved for extended use)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="reEncryptSymKey-int-int-int-byte:A-int-byte:A-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reEncryptSymKey</h4>
<pre>public&nbsp;int&nbsp;reEncryptSymKey(int&nbsp;ProtectKeyType,
                           int&nbsp;ProtectKeyIndex,
                           int&nbsp;TargetKeyAlg,
                           byte[]&nbsp;CipherKey,
                           int&nbsp;CipherKeyLen,
                           byte[]&nbsp;Modulus,
                           int&nbsp;ModulusLen,
                           int&nbsp;PubExp,
                           <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;resultBytesValue,
                           int&nbsp;Flag)</pre>
<div class="block">Use the public key to re-encrypt the symmetric key encrypted by the symmetric protection key. The function will first use the protection key to decrypt the target symmetric key, and use the incoming
 The public key is re-encrypted and the encryption result is returned. The encryption padding mode uses RSA_PADDING_MODE_PKCS_V15.
 This function does not process KCV internally, and does not care about the type of the target symmetric key, which is managed by the caller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ProtectKeyType</code> - The Type of the protective keytype</dd>
<dd><code>ProtectKeyIndex</code> - The index of the protective key,the value range is 0x00~0xFF.</dd>
<dd><code>TargetKeyAlg</code> - the algorithm of the target key. Can be SYM_ARITH_3DES, SYM_ARITH_3DES_3K, SYM_ARITH_AES, SYM_ARITH_AES192, SYM_ARITH_AES256, SYM_ARITH_SM4.</dd>
<dd><code>CipherKey</code> - The symmetric key that protects the encryption of the key.</dd>
<dd><code>CipherKeyLen</code> - The length of the symmetric key encrypted by the protection key.</dd>
<dd><code>Modulus</code> - The modulus of the encrypted public key, in Big Endian format.</dd>
<dd><code>ModulusLen</code> - The number of bytes of the modulus of the encrypted public key.</dd>
<dd><code>PubExp</code> - The exponent of the encrypted public key.</dd>
<dd><code>resultBytesValue</code> - The returned public key encrypted symmetric key.</dd>
<dd><code>Flag</code> - reserved parameter, currently must be set to 0.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ERR_SUCCESS:
          Other values: error code</dd>
</dl>
</li>
</ul>
<a name="GenerateAndExportIpek-int-byte:A-int-byte:A-int-int-byte:A-int:A-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GenerateAndExportIpek</h4>
<pre>public&nbsp;int&nbsp;GenerateAndExportIpek(int&nbsp;bdkIndex,
                                 byte[]&nbsp;ksn,
                                 int&nbsp;ksnLen,
                                 byte[]&nbsp;modulus,
                                 int&nbsp;modulusLen,
                                 int&nbsp;pubExp,
                                 byte[]&nbsp;encryptedKey,
                                 int[]&nbsp;EncryptedKeyLen,
                                 byte[]&nbsp;kcv,
                                 int&nbsp;kcvLen,
                                 int&nbsp;flag)
                          throws android.os.RemoteException</pre>
<div class="block">This function uses pre-saved BDK to calculate IPEK according to KSN, and encrypts it with the public key of the target POS for export.
 The encryption padding mode uses RSA_PADDING_MODE_PKCS_V15.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bdkIndex</code> - BDK key index.</dd>
<dd><code>ksn</code> - KSN of the target device.</dd>
<dd><code>ksnLen</code> - The number of bytes of KSN.</dd>
<dd><code>modulus</code> - The modulus of the encrypted public key, in Big Endian format.</dd>
<dd><code>modulusLen</code> - The number of bytes of the modulus of the encrypted public key.</dd>
<dd><code>pubExp</code> - The exponent of the encrypted public key.</dd>
<dd><code>encryptedKey</code> - The returned public key encrypted IPEK.</dd>
<dd><code>EncryptedKeyLen</code> - The length of the ciphertext of the returned public key encrypted IPEK.</dd>
<dd><code>kcv</code> - Captcha, which is returned to verify that the imported key is correct.</dd>
<dd><code>kcvLen</code> - The length of kcv.</dd>
<dd><code>flag</code> - reserved parameter, currently must be set to 0.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 ERR_SUCCESS:
         Other values: error code</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>android.os.RemoteException</code> - when the service is disconnected.</dd>
</dl>
</li>
</ul>
<a name="getRSAPublicKeyWithDEREncoded-int-int-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRSAPublicKeyWithDEREncoded</h4>
<pre>public&nbsp;int&nbsp;getRSAPublicKeyWithDEREncoded(int&nbsp;keyType,
                                         int&nbsp;keyIndex,
                                         int&nbsp;DERModulusType,
                                         <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;bytesTypeValue)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - Key Type.  RSA. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyIndex</code> - Key index. (the value range is 0x01~0xFF)</dd>
<dd><code>DERModulusType</code> - DER modulus type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/RSADERMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>RSADERMode</code></a>;</dd>
<dd><code>bytesTypeValue</code> - Result of DER coding result.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ERR_SUCCESS: Other values: error code</dd>
</dl>
</li>
</ul>
<a name="verifyKDHCertFile-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyKDHCertFile</h4>
<pre>public&nbsp;boolean&nbsp;verifyKDHCertFile(byte[]&nbsp;data)</pre>
<div class="block">Add KDH certificates</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - Certificate data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="delKDHCertFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delKDHCertFile</h4>
<pre>public&nbsp;boolean&nbsp;delKDHCertFile()</pre>
<div class="block">Delete KDH certificates</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="getKDHCertFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKDHCertFile</h4>
<pre>public&nbsp;byte[]&nbsp;getKDHCertFile()</pre>
<div class="block">Get KDH certificates</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="getKRDCertFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKRDCertFile</h4>
<pre>public&nbsp;byte[]&nbsp;getKRDCertFile()</pre>
<div class="block">Get KRD certificates</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0: Success; Other values: Error code. Refer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="installTr34Blob-android.os.Bundle-byte:A-int-byte:A-int-com.ftpos.apiservice.aidl.data.BytesValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>installTr34Blob</h4>
<pre>public&nbsp;int&nbsp;installTr34Blob(android.os.Bundle&nbsp;bundle,
                           byte[]&nbsp;deviceRandom,
                           int&nbsp;deviceRandomLen,
                           byte[]&nbsp;tr34KeyBlob,
                           int&nbsp;tr34KeyBlobLen,
                           com.ftpos.apiservice.aidl.data.BytesValue&nbsp;kcv)</pre>
<div class="block">Install TR34 data packets</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bundle</code> - Bundle bundleUsed to handle key related parameters.
                        KeyIndex: The key indexestype integer
                        CustomerID: Customer ID, Used to locate filestype String
                        CertFileName: Certificate file nametype String</dd>
<dd><code>deviceRandom</code> - random</dd>
<dd><code>deviceRandomLen</code> - Length of the random (No more than 16 bytes)</dd>
<dd><code>tr34KeyBlob</code> - TR34 data packets</dd>
<dd><code>tr34KeyBlobLen</code> - Length of the TR34 data packets</dd>
<dd><code>kcv</code> - KCV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0SuccessOthererrorRefer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
<a name="loadTr34BlobByIndexEx-int-int-int-byte:A-int-com.ftpos.library.smartpos.datautils.BytesTypeValue-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>loadTr34BlobByIndexEx</h4>
<pre>public&nbsp;int&nbsp;loadTr34BlobByIndexEx(int&nbsp;keyProtectIndex,
                                 int&nbsp;keyIndex,
                                 int&nbsp;keyType,
                                 byte[]&nbsp;keyBlockData,
                                 int&nbsp;keyBlockDataLen,
                                 <a href="../../../../../com/ftpos/library/smartpos/datautils/BytesTypeValue.html" title="class in com.ftpos.library.smartpos.datautils">BytesTypeValue</a>&nbsp;kcvValue)</pre>
<div class="block">Install TR34 data packets</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyProtectIndex</code> - The RSA key index of the protective key,the value range is 0x00~0xFF.</dd>
<dd><code>keyIndex</code> - The index was assigned for the key. the value range is 0x01~0xFF;all application will share keyspace.</dd>
<dd><code>keyType</code> - Key Type. Refer to<a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><code>KeyType</code></a>;</dd>
<dd><code>keyBlockData</code> - Length of the TR34 data packets</dd>
<dd><code>keyBlockDataLen</code> - Length of the TR34 data packets</dd>
<dd><code>kcvValue</code> - KCV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0SuccessOthererrorRefer to<a href="../../../../../com/ftpos/library/smartpos/errcode/ErrCode.html" title="class in com.ftpos.library.smartpos.errcode"><code>ErrCode</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/ftpos/library/smartpos/keymanager/HashMode.html" title="interface in com.ftpos.library.smartpos.keymanager"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/ftpos/library/smartpos/keymanager/KeyType.html" title="interface in com.ftpos.library.smartpos.keymanager"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/ftpos/library/smartpos/keymanager/KeyManager.html" target="_top">Frames</a></li>
<li><a href="KeyManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
